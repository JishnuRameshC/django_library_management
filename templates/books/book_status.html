{% extends '_base.html' %}

{% block title %}Book Status{% endblock title %}
    
{% block content %}
<h1>Requested Books Status</h1>
    <div
        class="table-responsive"
    >
        <table
            class="table table-striped table-hover table-borderless table-primary align-middle"
        >
            <thead class="table-light">
                <caption>
                
                </caption>
                <tr>
                    <th class='col-8'>Book Name</th>
                    <th class='col-2'>Status</th>
                    <th class='col-2'>PDF </th>
                </tr>
            </thead>
            <tbody class="table-group-divider">
                {% for request in requested_books %}
                <tr
                    class="table-primary"
                >
                    <td scope="row">{{ request.book.title }}</td>
                    <td>
                        {% if request.is_approved %}
                          <button type="button" class="btn btn-success" disabled>Approved</button>
                        {% elif request.is_approved == False %}
                          <button type="button" class="btn btn-secondary" disabled>Denied..</button>
                        {% else %}
                            <button type="button" class="btn btn-primary" disabled>Pending</button>
                        {% endif %}
                    </td>
                    <td>
                        {% if request.is_approved %}
                          <a class='btn btn-primary' href="#">Read PDF</a>
                        {% else %}
                        <button type="button" class="btn btn-secondary" disabled>Wait for Approval</button>
                        {% endif %}
                    </td>
                </tr>
                {% endfor %}
            </tbody>
            <tfoot>
                
            </tfoot>
        </table>
    </div>
{% endblock %}
